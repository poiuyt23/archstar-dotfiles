    settings_table = {
            {
                    -- Edit this table to customise your rings.
                    -- You can create more rings simply by adding more elements to settings_table.
                    -- "name" is the type of stat to display; you can choose from 'cpu', 'memperc', 'fs_used_perc', 'battery_used_perc'.
                    name='cpu',
                    -- "arg" is the argument to the stat type, e.g. if in Conky you would write ${cpu cpu0}, 'cpu0' would be the argument. If you would not use an argument in the Conky variable, use ''.
                    arg='cpu1',
                    -- "max" is the maximum value of the ring. If the Conky variable outputs a percentage, use 100.
                    max=100,
                    -- "bg_colour" is the colour of the base ring.
                    bg_colour=0x777777,
                    -- "bg_alpha" is the alpha value of the base ring.
                    bg_alpha=0.3,
                    -- "fg_colour" is the colour of the indicator part of the ring.
                    fg_colour=0xff0000,
                    -- "fg_alpha" is the alpha value of the indicator part of the ring.
                    fg_alpha=0.6,
                    -- "x" and "y" are the x and y coordinates of the centre of the ring, relative to the top left corner of the Conky window.
                    x=400, y=150,
                    -- "radius" is the radius of the ring.
                    radius=125,
                    -- "thickness" is the thickness of the ring, centred around the radius.
                    thickness=2,
                    -- "start_angle" is the starting angle of the ring, in degrees, clockwise from top. Value can be either positive or negative.
                    start_angle=0,
                    -- "end_angle" is the ending angle of the ring, in degrees, clockwise from top. Value can be either positive or negative, but must be larger (e.g. more clockwise) than start_angle.
                    end_angle=23
            },
            {		--CPU2
                    name='cpu',
                    arg='cpu2',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=23,
                    end_angle=45
            },
            {		--CPU3
                    name='cpu',
                    arg='cpu3',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=45,
                    end_angle=68
            },
            {		--CPU4
                    name='cpu',
                    arg='cpu4',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=68, 
                    end_angle=90, 
            },
	    {		--CPU5
                    name='cpu',
                    arg='cpu5',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=90, 
                    end_angle=113
            },            
	    {		--CPU6
                    name='cpu',
                    arg='cpu6',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=113,
                    end_angle=135
            },       
	    {		--CPU7
                    name='cpu',
                    arg='cpu7',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=135,
                    end_angle=158
            },           
            {		--CPU8
                    name='cpu',
                    arg='cpu8',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=158,
                    end_angle=180
	    },
            {           --CPU9
                    name='cpu',
                    arg='cpu9',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=180,
                    end_angle=203
            },
            {           --CPU10
                    name='cpu',
                    arg='cpu10',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=203,
                    end_angle=225
            },
            {           --CPU11
                    name='cpu',
                    arg='cpu11',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=225,
                    end_angle=248
            },
            {           --CPU12
                    name='cpu',
                    arg='cpu12',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=248,
                    end_angle=270
            },
            {           --CPU13
                    name='cpu',
                    arg='cpu13',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=270,
                    end_angle=293
            },
            {           --CPU14
                    name='cpu',
                    arg='cpu14',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=293,
                    end_angle=315
            },
            {           --CPU15
                    name='cpu',
                    arg='cpu15',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=315,
                    end_angle=338
            },
	                {           --CPU16
                    name='cpu',
                    arg='cpu16',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=125,
                    thickness=2,
                    start_angle=338,
                    end_angle=360
            },

	    {		--Overall CPU
                    name='cpu',
                    arg='cpu',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0x880606,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=115,
                    thickness=13,
                    start_angle=-150,
                    end_angle=120
            },
	    {		--Memory Percent
                    name='memperc',
                    arg='',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0x080899,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=100,
                    thickness=10,
                    start_angle=-150,
                    end_angle=120
	    },
	    {		--Home FS
                    name='fs_used_perc',
                    arg='/home',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xffff00,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=87,
                    thickness=10,
                    start_angle=80,
                    end_angle= 190
	    },
	    {		--USR FS
                    name='fs_used_perc',
                    arg='/usr',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0x440088,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=86,
                    thickness=10,
                    start_angle=200,
                    end_angle=310
	    },
	    {		-- root FS
                    name='fs_used_perc',
                    arg='/root',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.6,
                    x=400, y=150,
                    radius=87,
                    thickness=10,
                    start_angle=320,
                    end_angle=430
	    },
	    {
                    -- Edit this table to customise your rings.
                    -- You can create more rings simply by adding more elements to settings_table.
                    -- "name" is the type of stat to display; you can choose from 'cpu', 'memperc', 'fs_used_perc', 'battery_used_perc'.
                    name='time',
                    -- "arg" is the argument to the stat type, e.g. if in Conky you would write ${cpu cpu0}, 'cpu0' would be the argument. If you would not use an argument in the Conky variable, use ''.
                    arg='%I',
                    -- "max" is the maximum value of the ring. If the Conky variable outputs a percentage, use 100.
                    max=12,
                    -- "bg_colour" is the colour of the base ring.
                    bg_colour=0x111111,
                    -- "bg_alpha" is the alpha value of the base ring.
                    bg_alpha=0.1,
                    -- "fg_colour" is the colour of the indicator part of the ring.
                    fg_colour=0xffffff,
                    -- "fg_alpha" is the alpha value of the indicator part of the ring.
                    fg_alpha=0.7,
                    -- "x" and "y" are the x and y coordinates of the centre of the ring, relative to the top left corner of the Conky window.
                    x=400, y=150,
                    -- "radius" is the radius of the ring.
                    radius=40,
                    -- "thickness" is the thickness of the ring, centred around the radius.
                    thickness=27,
                    -- "start_angle" is the starting angle of the ring, in degrees, clockwise from top. Value can be either positive or negative.
                    start_angle=0,
                    -- "end_angle" is the ending angle of the ring, in degrees, clockwise from top. Value can be either positive or negative, but must be larger (e.g. more clockwise) than start_angle.
                    end_angle=360
            },
	                --minuty
            {
                    name='time',
                    arg='%M',
                    max=60,
                    bg_colour=0x111111,
                    bg_alpha=0.1,
                    fg_colour=0xffffff,
                    fg_alpha=0.7,
                    x=400, y=150,
                    radius=60,
                    thickness=10,
                    start_angle=0,
                    end_angle=360
            },
            --sekundy
	    {
                    name='time',
                    arg='%S',
                    max=60,
                    bg_colour=0x111111,
                    bg_alpha=0.1,
                    fg_colour=0xffffff,
                    fg_alpha=0.7,
                    x=400, y=150,
                    radius=68,
                    thickness=3,
                    start_angle=0,
                    end_angle=360
            },
	                --upload
            {
                    name='upspeedf',
                    arg='wlp2s0',
                    max=4000,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0x0000ff,
                    fg_alpha=0.4,
                    x=132, y=150,
                    radius=45,
                    thickness=7,
                    start_angle=-90,
                    end_angle=90
            },
            --download
            {
                    name='downspeedf',
                    arg='wlp2s0',
                    max=8000,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0xff0000,
                    fg_alpha=0.4,
                    x=222, y=150,
                    radius=45,
                    thickness=7,
                    start_angle=90,
                    end_angle=270
            },           
	    {    	--Wifi
                    name='wireless_link_qual_perc',
                    arg='wlp2s0',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0x00ff00,
                    fg_alpha=0.4,
                    x=177, y=150,
                    radius=45,
                    thickness=7,
                    start_angle=-180,
                    end_angle=180
            }, 
	    {		--Battery
                    name='battery_percent',
                    arg='BAT1',
                    max=100,
                    bg_colour=0x777777,
                    bg_alpha=0.3,
                    fg_colour=0x00ff00,
                    fg_alpha=0.4,
                    x=400, y=150,
                    radius=108,
                    thickness=27,
                    start_angle=124,
                    end_angle=205
            }
}	
	    
require 'cairo'
require 'cairo_xlib'
     
    function rgb_to_r_g_b(colour,alpha)
            return ((colour / 0x10000) % 0x100) / 255., ((colour / 0x100) % 0x100) / 255., (colour % 0x100) / 255., alpha
    end
     
    function draw_ring(cr,t,pt)
            local w,h=conky_window.width,conky_window.height
     
            local xc,yc,ring_r,ring_w,sa,ea=pt['x'],pt['y'],pt['radius'],pt['thickness'],pt['start_angle'],pt['end_angle']
            local bgc, bga, fgc, fga=pt['bg_colour'], pt['bg_alpha'], pt['fg_colour'], pt['fg_alpha']
     
            local angle_0=sa*(2*math.pi/360)-math.pi/2
            local angle_f=ea*(2*math.pi/360)-math.pi/2
            local t_arc=t*(angle_f-angle_0)
     
            -- Draw background ring
     
            cairo_arc(cr,xc,yc,ring_r,angle_0,angle_f)
            cairo_set_source_rgba(cr,rgb_to_r_g_b(bgc,bga))
            cairo_set_line_width(cr,ring_w)
            cairo_stroke(cr)
     
            -- Draw indicator ring
     
            cairo_arc(cr,xc,yc,ring_r,angle_0,angle_0+t_arc)
            cairo_set_source_rgba(cr,rgb_to_r_g_b(fgc,fga))
            cairo_stroke(cr)               
    end
     
    cs, cr = nil -- initialize our cairo surface and context to nil
    function conky_ring_stats()
            local function setup_rings(cr,pt)
                    local str=''
                    local value=0
     
                    str=string.format('${%s %s}',pt['name'],pt['arg'])
                    str=conky_parse(str)
     
                    value=tonumber(str)
                    if value == nil then value = 0 end
                    pct=value/pt['max']
     
                    draw_ring(cr,pct,pt)
            end
     
            if conky_window == nil then return end
            if cs == nil or cairo_xlib_surface_get_width(cs) ~= conky_window.width or cairo_xlib_surface_get_height(cs) ~= conky_window.height then
                    if cs then cairo_surface_destroy(cs) end
                    cs = cairo_xlib_surface_create(conky_window.display, conky_window.drawable, conky_window.visual, conky_window.width, conky_window.height)
            end
            if cr then cairo_destroy(cr) end
            cr = cairo_create(cs)
     
            local updates=conky_parse('${updates}')
            update_num=tonumber(updates)
     
            if update_num>5 then
                    for i in pairs(settings_table) do
                            setup_rings(cr,settings_table[i])
                    end
            end
           
            cairo_destroy(cr)
            cr = nil
    end
